<html>
 <!--
* PyWebCopy Engine [version 7.0.2]
* Copyright 2020; Raja Tomar
* File mirrored from [http://bigor.bmstu.ruA:/BIGOR/App/my_site/bigor.bmstu.ru/cnt__doc_OP2_func_fopen.mod__cou_OP2_OP_T.cou.html"]
* At UTC datetime: [2022-12-19 15:48:34.408980]
-->
 <head>
  <title>
   Ôóíêöèÿ fopen()
  </title>
  <meta content="Ôåäîðóê Å.Â." name="Author"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="index, nofollow" name="Robots"/>
  <script language="JavaScript">
   function feedback(act, txt) {
document.forms['FBForm'].action='/?'+act+'/?'+document.location.href;
document.getElementById('FB').value=txt;
document.forms['FBForm'].submit(); }

function on(obj) { obj.style.textDecoration='underline'; }
function off(obj) { obj.style.textDecoration='none'; }

function imgscale(img, k) { img.width=img.width*k; }

var cs=null;
function selStop() { if(document.selection != null) cs=document.selection.createRange(); }
function selStart() { cs=null; }

function termSearch() { if(cs == null || cs.text.length == 0) feedback('sht',''); else { cs.select(); feedback('sht',cs.text); } cs=null; }
function termInfo(txt) { feedback('trm',txt); } function termInfoExt(txt) { feedback('tre',txt); }

function jobchange(cb) {
document.getElementById('ChJob').value=(cb.checked ? '+':'-')+' '+cb.id;
document.forms['FJob'].submit(); }

function jobchangeall(cb) {
document.getElementById('ChGrJob').value=cb.id+' '+document.location.href;
document.forms['FGrJob'].action += document.location.href+'#S'+document.body.scrollTop;
document.forms['FGrJob'].submit(); }

function iniscroll() {
var s = new String(document.location.hash); if(s.length < 3 || s.charAt(1) != new String('S')) return;
document.body.scrollTop = s.substring(2); }

var bx=0, by=0, bw=0, bh=0;
var box=null, tit=null, txt=null;
var his=null;
var dx=0, dy=0, dflg=0;

function puInit() { 
box=document.getElementById('PopUp'); 
tit=document.getElementById('PopUpTitle'); 
txt=document.getElementById('PopUpText');
puClose(); tit.style.cursor='default';
bw = document.body.scrollWidth*0.55; if(bw < 350) bw = 350;
bx = (document.body.scrollWidth-bw)/2-3; by=50;
txt.style.width=bw; box.style.top=-1000;
if(box.filters != null) box.style.filter='revealtrans(transition=1)'; }

function puClose() {
if(box == null) return;
dFlg=0; txt.style.height=80; his=null;
box.style.top=-1000;
box.style.visibility='hidden'; }

function puOpen() {
if(box == null) return;
if(box.filters != null && his == null) box.filters.item(0).Apply();
dFlg=0;
var v = ''; var t = new String(FPopUp.document.title);
if(t == null || t.length == 0) { document.location.href=new String(document.location.href); return; }
if(t.charAt(0) == '!') { t = t.substring(1); v = 'hidden'; }
document.getElementById('PopUpBack').style.visibility = v; 
document.getElementById('PopUpForw').style.visibility = v;
tit.innerHTML=t;
bh = FPopUp.document.body.scrollHeight+6; if(bh > 500) bh = 500; else if(bh < 100) bh = 100;
txt.style.height=bh;
box.style.left=document.body.scrollLeft+bx; 
box.style.top=document.body.scrollTop+by;
box.style.visibility='visible';
if(box.filters != null && his == null) box.filters.item(0).play(0.3);
if(his == null) his=FPopUp.document.location.href; }

function puScroll() {
if(his == null) return;
box.style.left=document.body.scrollLeft+bx;
box.style.top=document.body.scrollTop+by; }

function puForw() {
FPopUp.history.forward(); }

function puBack() {
if(FPopUp.document.location.href == his) return;
FPopUp.history.back(); }

function puMove(ev) {
if(dflg == 0) return;
bx = bx+(ev.screenX-dx); box.style.left=document.body.scrollLeft+bx; dx=ev.screenX;
by = by+(ev.screenY-dy); box.style.top=document.body.scrollTop+by; dy=ev.screenY;
ev.cancelBubble=true; }

function puStart(ev) {
if(ev.button > 1) return;
dflg=1; tit.style.cursor='move';
dx=ev.screenX; dy=ev.screenY; }

function puStop() {
tit.style.cursor='default'; dflg=0; }
  </script>
  <style type="text/css">
   .menu { padding-left:6px; padding-right:6px; }
.menuLnk { color:#000000; font-family:sans-serif; font-size:12px; text-decoration:none; }
.puTitle { background-color:#7070FF; text-align:center; height:21px; margin-top:1px; font-family:sans-serif; font-weight:bold; color:white; font-size:15px; letter-spacing:1px; }
.eTermI { font-size:100%; color:#0000FF; text-decoration:none; }
.eTable { font-size:11.0pt; font-family:verdana,sans-serif; text-indent:0pt; }
.eExample { font-size:90%; font-family:verdana,sans-serif; margin-left:9.0pt; text-align:justify; margin-bottom:7pt; }
.dModul { font-size:15.0px; font-family:verdana,sans-serif; text-indent:25.0px; margin-left:6pt; margin-right:6pt; text-align:justify; }
.eList { margin-left:0px; padding-left:0pt; margin-top:0pt; margin-bottom:0pt; text-indent:25.0px; list-style-position:inside; }
.eTableT { font-size:12.0pt; font-family:serif; font-weight:bold; text-indent:0pt; }
.eTermO { font-size:100%; color:#FF0000; letter-spacing:1px; font-style:italic; text-decoration:none; }
.auto { font-size:12.5pt; text-indent:0pt; font-family:serif; font-weight:bold; font-style:normal; margin-top:10pt; margin-bottom:4pt; margin-left:30.0pt; }
.eTitleModul { font-size:25.5pt; color:#0000FF; text-align:center; font-family:serif; font-weight:bold; margin-bottom:8pt; margin-top:0pt; text-indent:0pt; text-decoration:none; }
.eOperator { font-family:monospace; font-weight:bold; font-style:normal; font-size:115%; }
.eListing { font-family:monospace; font-weight:bold; font-style:normal; font-size:115%; text-indent:0pt; padding-left:20pt; margin-top:5pt; margin-bottom:4pt; }
  </style>
 </head>
 <body bottommargin="10" leftmargin="10" onload="puInit()" onmousemove="puMove(event)" onmouseup="puStop()" onresize="puInit()" onscroll="puScroll()" rightmargin="10" topmargin="10">
  <table bgcolor="#7070FF" border="1" id="PopUp" style="visibility:hidden; position:absolute">
   <tr>
    <td>
     <a href="javascript:puBack()" id="PopUpBack">
      <img align="left" alt="Назад" border="0" hspace="1" src="./asr_HTML_Back.gif" vspace="1"/>
     </a>
     <a href="javascript:puForw()" id="PopUpForw">
      <img align="left" alt="Вперед" border="0" hspace="1" src="./asr_HTML_Forw.gif" vspace="1"/>
     </a>
     <a href="javascript:puClose()">
      <img align="right" alt="Закрыть" border="0" hspace="1" src="./asr_HTML_Close.gif" vspace="1"/>
     </a>
     <div class="puTitle" id="PopUpTitle" onmousedown="puStart(event)">
     </div>
    </td>
   </tr>
   <tr>
    <td>
     <iframe frameborder="no" id="PopUpText" name="FPopUp" onload="puOpen()" scroll="auto">
     </iframe>
    </td>
   </tr>
  </table>
  <div style="display:none">
   <form method="POST" name="FBForm" target="FPopUp">
    <input id="FB" name="FB" type="HIDDEN"/>
   </form>
  </div>
  <div style="display:none">
   <form action="./jad" method="POST" name="FJob">
    <input id="ChJob" name="JText" type="TEXT"/>
   </form>
  </div>
  <div style="display:none">
   <form action="A:/BIGOR/App/my_site/bigor.bmstu.ru/cnt__doc_OP2_OP_T.cou.html"" method="POST" name="FGrJob">
    <input id="ChGrJob" name="JText" type="TEXT"/>
   </form>
  </div>
  <div id="Content" onmousedown="puClose()">
   <noindex>
    <center>
     <table border="0" cellpadding="0" cellspacing="0">
      <tr align="center" valign="top">
       <td class="menu">
        <a class="menuLnk" href="A:/BIGOR/App/my_site/bigor.bmstu.ru/cnt__doc_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_Home.gif"/>
         <br/>
         Главная страница
        </a>
       </td>
       <td>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__doc_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_Content.gif"/>
         <br/>
         Оглавление курса
        </a>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__doc_OP2_buf_in_out.mod__cou_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_ModulBack.gif"/>
         <br/>
         Предыдущий модуль
        </a>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__doc_OP2_func_fclose.mod__cou_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_ModulForw.gif"/>
         <br/>
         Следующий модуль
        </a>
       </td>
       <td class="menu">
        <a class="menuLnk" href="javascript:termSearch()">
         <img border="0" src="./asr_HTML_TSearch.gif"/>
         <br/>
         Поиск терминов
        </a>
       </td>
       <td>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./sty__cnt__doc_OP2_func_fopen.mod__cou_OP2_OP_T.cou.html"__bck_OP2_func_fopen.mod" target="FPopUp">
         <img border="0" src="./asr_HTML_Setup.gif"/>
         <br/>
         Настройки
        </a>
       </td>
       <td>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__prn_y__doc_OP2_func_fopen.mod">
         <img border="0" src="./asr_HTML_Print.gif"/>
         <br/>
         Версия для печати
        </a>
       </td>
       <td>
       </td>
      </tr>
     </table>
    </center>
   </noindex>
   <hr width="90%"/>
   <div class="dModul" onmousedown="selStart()" onmouseout="selStop()" onmouseup="selStop()">
    <div class="eTitleModul">
     <a class="eTitleModul" href="./met__doc_OP2_func_fopen.mod__cou_OP2_OP_T.cou.html"__bck_OP2_func_fopen.mod" onmouseout="off(this)" onmouseover="on(this)" target="FPopUp" title="Показать метаданные документа">
      Функция fopen()
     </a>
    </div>
    <a name="T873242734">
    </a>
    <a name="T696383489">
    </a>
    <div>
     <a class="eTermO" href="javascript:termInfo(%22%D0%A4%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%20fopen()%22)" onmouseout="off(this)" onmouseover="on(this)">
      Функция fopen()
     </a>
     —
     <a class="eTermI" href="javascript:termInfo(%22%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F%22)" onmouseout="off(this)" onmouseover="on(this)">
      функция
     </a>
     открытия файла.
    </div>
    <div>
     <span class="eOperator">
      FILE *fopen(const char *имя_файла, const char *тип)
     </span>
    </div>
    <a name="T756911212">
    </a>
    <div>
     Первым
     <a class="eTermI" href="javascript:termInfo(%22%D0%B0%D1%80%D0%B3%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%BC%22)" onmouseout="off(this)" onmouseover="on(this)">
      аргументом
     </a>
     функции
     <span class="eOperator">
      fopen()
     </span>
     является адрес строки, содержащей путевое имя файла. Второй аргумент—это адрес строки, определяющей тип работы с открываемым файлом.
    </div>
    <div>
     Заданный именем файл открывается в соответствии с указанным типом. Тип может принимать следующие значения:
    </div>
    <ul class="eList">
     <li>
      <span class="eOperator">
       "r"
      </span>
      — текстовый файл открывается для чтения (read);
     </li>
     <li>
      <span class="eOperator">
       "w"
      </span>
      - текстовый файл создается для записи; старое содержимое, если оно было, выбрасывается (write);
     </li>
     <li>
      <span class="eOperator">
       "a"
      </span>
      — текстовый файл открывается или создается для записи в конец файла (add);
     </li>
     <li>
      <span class="eOperator">
       "r+"
      </span>
      — текстовый файл открывается для исправления, т.е. для чтения и записи;
     </li>
     <li>
      <span class="eOperator">
       "w+"
      </span>
      - текстовый файл создается для исправления, старое содержимое, если оно было, выбрасывается;
     </li>
     <li>
      <span class="eOperator">
       "a+"
      </span>
      — текстовый файл открывается или создается для исправления уже существующей информации и добавления новой в конец файла.
     </li>
    </ul>
    <a name="T541845194">
    </a>
    <a name="T269665333">
    </a>
    <a name="T326195606">
    </a>
    <div>
     Функция
     <span class="eOperator">
      fopen()
     </span>
     возвращает
     <a class="eTermI" href="javascript:termInfo(%22%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%22)" onmouseout="off(this)" onmouseover="on(this)">
      указатель
     </a>
     на
     <a class="eTermI" href="javascript:termInfo(%22%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%83%20FILE%22)" onmouseout="off(this)" onmouseover="on(this)">
      структуру FILE
     </a>
     , который затем присваивается переменной. Этот указатель называют
     <a class="eTermO" href="javascript:termInfo(%22%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B5%D0%BD%D0%BD%D0%B8%D0%B9%20%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%22)" onmouseout="off(this)" onmouseover="on(this)">
      внутренним
     </a>
     . После открытия файла к нему обращаются с использованием указателя на этот файл, имя файла больше не потребуется.
    </div>
    <a name="T645587003">
    </a>
    <div>
     Для обозначения двоичных файлов к типу может добавляться символ
     <span class="eOperator">
      b
     </span>
     (например,
     <span class="eOperator">
      "rb"
     </span>
     ,
     <span class="eOperator">
      "wb"
     </span>
     ,
     <span class="eOperator">
      "r+b"
     </span>
     ). Однако,
     <a class="eTermI" href="javascript:termInfo(%22%D0%9E%D0%A1%20UNIX%22)" onmouseout="off(this)" onmouseover="on(this)">
      ОС UNIX
     </a>
     не делает никаких различий между двоичными и текстовыми файлами, следовательно, символ
     <span class="eOperator">
      b
     </span>
     игнорируется.
    </div>
    <a name="T581415280">
    </a>
    <a name="T37556405">
    </a>
    <a name="T637542155">
    </a>
    <div>
     <a class="eTermI" href="javascript:termInfo(%22%D0%9E%D0%B1%D1%8A%D1%8F%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D1%82%D0%B8%D0%BF%D0%B0%20%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8%22)" onmouseout="off(this)" onmouseover="on(this)">
      Объявление прототипа функции
     </a>
     <span class="eOperator">
      fopen()
     </span>
     находится в
     <a class="eTermI" href="javascript:termInfo(%22%D1%84%D0%B0%D0%B9%D0%BB%D0%B5%20%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%BE%D0%B2%22)" onmouseout="off(this)" onmouseover="on(this)">
      файле заголовков
     </a>
     <span class="eOperator">
      stdio.h
     </span>
     , поэтому программы, использующие эту функцию, должны включать следующую
     <a class="eTermI" href="javascript:termInfo(%22%D0%B4%D0%B8%D1%80%D0%B5%D0%BA%D1%82%D0%B8%D0%B2%D1%83%20%D0%BF%D1%80%D0%B5%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80%D0%B0%22)" onmouseout="off(this)" onmouseover="on(this)">
      директиву препроцессора
     </a>
     :
    </div>
    <div>
     <span class="eOperator">
      #include &lt;stdio.h&gt;
     </span>
    </div>
    <div class="auto">
     Пример 1
    </div>
    <div class="eExample">
     <pre class="eListing">#include &lt;stdio.h&gt;
int main()
{
  FILE *fp;
  fp = fopen("logfile", "w");
  if (fp==NULL)
     printf("Open failed\n");
  ...
}
</pre>
    </div>
    <div>
     Для обеспечения уверенности в успешном открытии файла необходимо проверять код, возвращаемый функцией
     <span class="eOperator">
      fopen()
     </span>
     .
    </div>
    <div>
     В таблице 1 приводятся результаты успешного открытия файла.
    </div>
    <div class="auto" style="text-align:right">
     Таблица 1
    </div>
    <table align="center" border="1" bordercolordark="#0000FF" bordercolorlight="#0000FF" cellpadding="5" cellspacing="0">
     <tr align="center">
      <td class="eTableT">
      </td>
      <td class="eTableT">
       чтение "r"
      </td>
      <td class="eTableT">
       запись "w"
      </td>
      <td class="eTableT">
       добавление "a"
      </td>
     </tr>
     <tr align="center">
      <td class="eTableT">
       файл существует
      </td>
      <td class="eTable">
       -
      </td>
      <td class="eTable">
       старое содержимое отбрасывается
      </td>
      <td class="eTable">
       -
      </td>
     </tr>
     <tr align="center">
      <td class="eTableT">
       файл не существует
      </td>
      <td class="eTable">
       ошибка
      </td>
      <td class="eTable">
       файл создается
      </td>
      <td class="eTable">
       файл создается
      </td>
     </tr>
    </table>
    <br/>
    <div>
     Если файл существует и открывается для чтения или дополнения, то он не изменяется при открытии. При открытии существующего файла для записи, он усекается. Если файл, открываемый для записи, не существует, то он будет создан. Однако, открытие несуществующего файла для чтения повлечет ошибку.
    </div>
    <div>
     Открытие файла с типом
     <span class="eOperator">
      "r+"
     </span>
     ,
     <span class="eOperator">
      "w+"
     </span>
     или
     <span class="eOperator">
      "a+"
     </span>
     называют открытием для обновления, что означает, что все три типа допускают как чтение, так и запись. При таком открытии выполняются те же действия c существующими и несуществующими файлами, что и при открытии с соответствующими типами
     <span class="eOperator">
      "r"
     </span>
     ,
     <span class="eOperator">
      "w"
     </span>
     и
     <span class="eOperator">
      "a"
     </span>
     . При использовании типов
     <span class="eOperator">
      "a"
     </span>
     и
     <span class="eOperator">
      "a+"
     </span>
     запись будет выполняться в конец файла.
    </div>
   </div>
   <hr width="90%"/>
   <noindex>
    <center>
     <table border="0" cellpadding="0" cellspacing="0">
      <tr align="center" valign="top">
       <td class="menu">
        <a class="menuLnk" href="A:/BIGOR/App/my_site/bigor.bmstu.ru/cnt__doc_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_Home.gif"/>
         <br/>
         Главная страница
        </a>
       </td>
       <td>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__doc_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_Content.gif"/>
         <br/>
         Оглавление курса
        </a>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__doc_OP2_buf_in_out.mod__cou_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_ModulBack.gif"/>
         <br/>
         Предыдущий модуль
        </a>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__doc_OP2_func_fclose.mod__cou_OP2_OP_T.cou.html"">
         <img border="0" src="./asr_HTML_ModulForw.gif"/>
         <br/>
         Следующий модуль
        </a>
       </td>
       <td class="menu">
        <a class="menuLnk" href="javascript:termSearch()">
         <img border="0" src="./asr_HTML_TSearch.gif"/>
         <br/>
         Поиск терминов
        </a>
       </td>
       <td>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./sty__cnt__doc_OP2_func_fopen.mod__cou_OP2_OP_T.cou.html"__bck_OP2_func_fopen.mod" target="FPopUp">
         <img border="0" src="./asr_HTML_Setup.gif"/>
         <br/>
         Настройки
        </a>
       </td>
       <td>
       </td>
       <td class="menu">
        <a class="menuLnk" href="./cnt__prn_y__doc_OP2_func_fopen.mod">
         <img border="0" src="./asr_HTML_Print.gif"/>
         <br/>
         Версия для печати
        </a>
       </td>
       <td>
       </td>
      </tr>
     </table>
    </center>
   </noindex>
  </div>
 </body>
</html>